var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function i(t,e,n=e){return t.set(n),e}const l="undefined"!=typeof window;let u=l?()=>window.performance.now():()=>Date.now(),f=l?t=>requestAnimationFrame(t):t;const d=new Set;let m,p=!1;function h(){d.forEach(t=>{t[0](u())||(d.delete(t),t[1]())}),(p=d.size>0)&&f(h)}function $(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function C(){return y(" ")}function T(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function w(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}let M,_=0,k={};function E(t,e,n,r,o,s,c,a=0){const i=16.666/r;let l="{\n";for(let t=0;t<=1;t+=i){const r=e+(n-e)*s(t);l+=100*t+`%{${c(r,1-r)}}\n`}const u=l+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`;if(!k[f]){if(!m){const t=b("style");document.head.appendChild(t),m=t.sheet}k[f]=!0,m.insertRule(`@keyframes ${f} ${u}`,m.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${r}ms linear ${o}ms 1 both`,_+=1,f}function z(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--_&&f(()=>{if(_)return;let t=m.cssRules.length;for(;t--;)m.deleteRule(t);k={}})}function O(t){M=t}function L(){const t=M;return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=S(e,n);r.slice().forEach(e=>{e.call(t,o)})}}}const A=[],I=[],j=[],G=[],N=Promise.resolve();let P,R=!1;function H(t){j.push(t)}function q(){const t=new Set;do{for(;A.length;){const t=A.shift();O(t),B(t.$$)}for(;I.length;)I.pop()();for(let e=0;e<j.length;e+=1){const n=j[e];t.has(n)||(n(),t.add(n))}j.length=0}while(A.length);for(;G.length;)G.pop()();R=!1}function B(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(H))}function D(t,e,n){t.dispatchEvent(S(`${e?"intro":"outro"}${n}`))}const K=new Set;let V;function Z(){V={r:0,c:[],p:V}}function F(){V.r||o(V.c),V=V.p}function J(t,e){t&&t.i&&(K.delete(t),t.i(e))}function Q(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),V.c.push(()=>{K.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const U={duration:0};function W(n,r,c,a){let i=r(n,c),l=a?0:1,m=null,$=null,g=null;function v(){g&&z(n,g)}function b(t,e){const n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(r){const{delay:s=0,duration:c=300,easing:a=e,tick:y=t,css:C}=i||U,T={start:u()+s,b:r};r||(T.group=V,V.r+=1),m?$=T:(C&&(v(),g=E(n,l,r,c,s,a,C)),r&&y(0,1),m=b(T,c),H(()=>D(n,r,"start")),function(t){let e;p||(p=!0,f(h)),new Promise(n=>{d.add(e=[t,n])})}(t=>{if($&&t>$.start&&(m=b($,c),$=null,D(n,m.b,"start"),C&&(v(),g=E(n,l,m.b,m.duration,0,a,i.css))),m)if(t>=m.end)y(l=m.b,1-l),D(n,m.b,"end"),$||(m.b?v():--m.group.r||o(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;l=m.a+m.d*a(e/m.duration),y(l,1-l)}return!(!m&&!$)}))}return{run(t){s(i)?(P||(P=Promise.resolve()).then(()=>{P=null}),P).then(()=>{i=i(),y(t)}):y(t)},end(){v(),m=$=null}}}function X(t,e,r){const{fragment:c,on_mount:a,on_destroy:i,after_update:l}=t.$$;c.m(e,r),H(()=>{const e=a.map(n).filter(s);i?i.push(...e):o(e),t.$$.on_mount=[]}),l.forEach(H)}function Y(t,e){t.$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function tt(t,e){t.$$.dirty||(A.push(t),R||(R=!0,N.then(q)),t.$$.dirty=r()),t.$$.dirty[e]=!0}function et(e,n,s,c,a,i){const l=M;O(e);const u=n.props||{},f=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:r(),dirty:null};let d=!1;f.ctx=s?s(e,u,(t,n,r=n)=>(f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),d&&tt(e,t)),n)):u,f.update(),d=!0,o(f.before_update),f.fragment=c(f.ctx),n.target&&(n.hydrate?f.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):f.fragment.c(),n.intro&&J(e.$$.fragment),X(e,n.target,n.anchor),q()),O(l)}class nt{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function rt(t){const e=t-1;return e*e*e+1}function ot(t,{delay:e=0,duration:n=400,easing:r=rt,x:o=0,y:s=0,opacity:c=0}){const a=getComputedStyle(t),i=+a.opacity,l="none"===a.transform?"":a.transform,u=i*(1-c);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*o}px, ${(1-t)*s}px);\n\t\t\topacity: ${i-u*e}`}}const st=[];var ct=function(e,n=t){let r;const o=[];function s(t){if(c(e,t)&&(e=t,r)){const t=!st.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),st.push(n,e)}if(t){for(let t=0;t<st.length;t+=2)st[t][0](st[t+1]);st.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(c,a=t){const i=[c,a];return o.push(i),1===o.length&&(r=n(s)||t),c(e),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}(0);function at(t,e,n){const r=Object.create(t);return r.position=e[n],r}function it(t){var e,n,r,o;return{c(){(e=b("button")).innerHTML='<img alt="Mus" src="mouse-face.png" class="svelte-113bzam">',x(e,"class","mouse svelte-113bzam"),o=T(e,"click",t.whackMouse(t.position))},m(t,n){g(t,e,n),r=!0},p(e,n){t=n},i(t){r||(t&&H(()=>{n||(n=W(e,ot,{y:80,opacity:100},!0)),n.run(1)}),r=!0)},o(t){t&&(n||(n=W(e,ot,{y:80,opacity:100},!1)),n.run(0)),r=!1},d(t){t&&(v(e),n&&n.end()),o()}}}function lt(t){var e,n,r,o,s=t.mice.has(t.position),c=s&&it(t);return{c(){e=b("div"),n=b("div"),r=C(),c&&c.c(),o=C(),x(n,"class","hole svelte-113bzam"),x(e,"class","cell svelte-113bzam")},m(t,s){g(t,e,s),$(e,n),$(e,r),c&&c.m(e,null),$(e,o)},p(t,n){t.mice&&(s=n.mice.has(n.position)),s?c?J(c,1):((c=it(n)).c(),J(c,1),c.m(e,o)):c&&(Z(),Q(c,1,1,()=>{c=null}),F())},d(t){t&&v(e),c&&c.d()}}}function ut(e){var n,r,o,s,c,a,i,l,u,f,d,m,p,h,T,S,M;let _=e.POSITIONS,k=[];for(let t=0;t<_.length;t+=1)k[t]=lt(at(e,_,t));return{c(){(n=b("h1")).textContent="Mos ei mus!",r=C(),o=b("div"),s=b("div"),c=b("div");for(let t=0;t<k.length;t+=1)k[t].c();a=C(),i=b("div"),l=b("div"),u=C(),f=b("div"),d=b("div"),m=y("Tid: "),p=y(e.remainingTime),h=C(),T=b("div"),S=y("Score: "),M=y(e.$score),x(n,"class","svelte-113bzam"),x(c,"class","top svelte-113bzam"),x(l,"class","timer-bar svelte-113bzam"),x(d,"class","svelte-113bzam"),x(T,"class","score svelte-113bzam"),x(f,"class","game-data svelte-113bzam"),x(i,"class","front svelte-113bzam"),x(s,"class","cheese svelte-113bzam"),x(o,"class","the-perspective svelte-113bzam")},m(t,e){g(t,n,e),g(t,r,e),g(t,o,e),$(o,s),$(s,c);for(let t=0;t<k.length;t+=1)k[t].m(c,null);$(s,a),$(s,i),$(i,l),$(i,u),$(i,f),$(f,d),$(d,m),$(d,p),$(f,h),$(f,T),$(T,S),$(T,M)},p(t,e){if(t.mice||t.POSITIONS){let n;for(_=e.POSITIONS,n=0;n<_.length;n+=1){const r=at(e,_,n);k[n]?k[n].p(t,r):(k[n]=lt(r),k[n].c(),k[n].m(c,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=_.length}t.remainingTime&&w(p,e.remainingTime),t.$score&&w(M,e.$score)},i:t,o:t,d(t){t&&(v(n),v(r),v(o)),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(k,t)}}}const ft=30,dt=16,mt=5e3,pt=1e3;function ht(t,e,n){let r;a(t,ct,t=>{n("$score",r=t)});const o=L();let s=ft;const c=[...Array(dt).keys()];let l=new Set([]);let u;const f=()=>{const t=Math.floor(Math.random()*dt);l.add(t);const e=Math.floor(Math.random()*mt),r=Math.floor(Math.random()*pt);setTimeout((t=>()=>{l.delete(t),n("mice",l)})(t),e),s>0&&n("addMouseTimeout",u=setTimeout(f,r)),n("mice",l)};f();const d=setInterval(()=>{n("remainingTime",s-=1)},1e3);return t.$$.update=(t={remainingTime:1,addMouseTimeout:1})=>{(t.remainingTime||t.addMouseTimeout)&&s<=0&&(clearTimeout(u),clearInterval(d),o("game-end"))},{remainingTime:s,POSITIONS:c,mice:l,whackMouse:t=>()=>{l.delete(t),i(ct,r+=1),n("mice",l)},$score:r}}class $t extends nt{constructor(t){super(),et(this,t,ht,ut,c,[])}}function gt(e){var n,r,o,s,c;return{c(){n=b("div"),(r=b("div")).innerHTML='<div class="presenting svelte-1blf9s3">Knowit presenterer</div> <h1 class="game-name svelte-1blf9s3"><img alt="Mus" src="mouse-face.png" class="svelte-1blf9s3">\n\t\t\t      Mos ei mus\n\t\t\t    </h1>',o=C(),(s=b("button")).textContent="Start spill",x(s,"class","main-button"),x(n,"class","container svelte-1blf9s3"),c=T(s,"click",e.pressStart)},m(t,e){g(t,n,e),$(n,r),$(n,o),$(n,s)},p:t,i:t,o:t,d(t){t&&v(n),c()}}}function vt(t){const e=L();return{pressStart:()=>{e("start")}}}class bt extends nt{constructor(t){super(),et(this,t,vt,gt,c,[])}}function yt(e){var n,r,o,s,c,a,i,l,u,f,d,m,p;return{c(){n=b("div"),r=b("div"),(o=b("h1")).textContent="Gratulerer!",s=C(),c=b("div"),a=y("Du klarte å mose "),i=y(e.score),l=y(" mus!"),u=C(),(f=b("div")).innerHTML='\n\t\t\t    Lyst på sommerjobb eller fast jobb i Knowit?\n\t\t\t    <br>\n\t\t\t    Send en enkel e-post til\n\t\t\t    <a href="mailto:hei@knowit.no" class="svelte-16hidyi">hei@knowit.no</a>',d=C(),(m=b("button")).textContent="Spill igjen",x(o,"class","svelte-16hidyi"),x(c,"class","score svelte-16hidyi"),x(m,"class","main-button"),x(n,"class","container svelte-16hidyi"),p=T(m,"click",e.pressRestart)},m(t,e){g(t,n,e),$(n,r),$(r,o),$(r,s),$(r,c),$(c,a),$(c,i),$(c,l),$(n,u),$(n,f),$(n,d),$(n,m)},p(t,e){t.score&&w(i,e.score)},i:t,o:t,d(t){t&&v(n),p()}}}function Ct(t,e,n){let{score:r}=e;const o=L();return t.$set=t=>{"score"in t&&n("score",r=t.score)},{score:r,pressRestart:()=>{o("restart")}}}class Tt extends nt{constructor(t){super(),et(this,t,Ct,yt,c,["score"])}}function xt(e){var n;return{c(){(n=b("a")).innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0;\n\t\t\t    right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6\n\t\t\t      120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3\n\t\t\t      125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-9fn96p"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6\n\t\t\t      C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0\n\t\t\t      C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1\n\t\t\t      C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n\t\t\t      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9\n\t\t\t      C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5\n\t\t\t      C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9\n\t\t\t      L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',x(n,"href","https://github.com/Vages/svelte-whack-a-mole"),x(n,"class","github-corner svelte-9fn96p"),x(n,"aria-label","View source on GitHub")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class wt extends nt{constructor(t){super(),et(this,t,null,xt,c,[])}}function St(t){var e,n=new Tt({props:{score:t.$score}});return n.$on("restart",t.restartGame),{c(){n.$$.fragment.c()},m(t,r){X(n,t,r),e=!0},p(t,e){var r={};t.$score&&(r.score=e.$score),n.$set(r)},i(t){e||(J(n.$$.fragment,t),e=!0)},o(t){Q(n.$$.fragment,t),e=!1},d(t){Y(n,t)}}}function Mt(e){var n,r=new $t({});return r.$on("game-end",e.endGame),{c(){r.$$.fragment.c()},m(t,e){X(r,t,e),n=!0},p:t,i(t){n||(J(r.$$.fragment,t),n=!0)},o(t){Q(r.$$.fragment,t),n=!1},d(t){Y(r,t)}}}function _t(e){var n,r=new bt({});return r.$on("start",e.startGame),{c(){r.$$.fragment.c()},m(t,e){X(r,t,e),n=!0},p:t,i(t){n||(J(r.$$.fragment,t),n=!0)},o(t){Q(r.$$.fragment,t),n=!1},d(t){Y(r,t)}}}function kt(t){var e,n,r,o,s=[_t,Mt,St],c=[];function a(t,e){return e.state===e.STATES.start?0:e.state===e.STATES.game?1:e.state===e.STATES.end?2:-1}~(e=a(0,t))&&(n=c[e]=s[e](t));var i=new wt({});return{c(){n&&n.c(),r=C(),i.$$.fragment.c()},m(t,n){~e&&c[e].m(t,n),g(t,r,n),X(i,t,n),o=!0},p(t,o){var i=e;(e=a(0,o))===i?~e&&c[e].p(t,o):(n&&(Z(),Q(c[i],1,1,()=>{c[i]=null}),F()),~e?((n=c[e])||(n=c[e]=s[e](o)).c(),J(n,1),n.m(r.parentNode,r)):n=null)},i(t){o||(J(n),J(i.$$.fragment,t),o=!0)},o(t){Q(n),Q(i.$$.fragment,t),o=!1},d(t){~e&&c[e].d(t),t&&v(r),Y(i,t)}}}function Et(t,e,n){let r;a(t,ct,t=>{n("$score",r=t)});const o=Object.freeze({start:"start",game:"game",end:"end"});let s=o.start;return{STATES:o,state:s,restartGame:()=>{n("state",s=o.start),i(ct,r=0)},startGame:()=>{n("state",s=o.game)},endGame:()=>{n("state",s=o.end)},$score:r}}return new class extends nt{constructor(t){super(),et(this,t,Et,kt,c,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
