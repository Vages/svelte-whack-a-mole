var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const c="undefined"!=typeof window;let i=c?()=>window.performance.now():()=>Date.now(),a=c?t=>requestAnimationFrame(t):t;const u=new Set;let f,d=!1;function h(){u.forEach(t=>{t[0](i())||(u.delete(t),t[1]())}),(d=u.size>0)&&a(h)}function p(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function b(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}let w,C=0,x={};function _(t,n,e,o,r,s,l,c=0){const i=16.666/o;let a="{\n";for(let t=0;t<=1;t+=i){const o=n+(e-n)*s(t);a+=100*t+`%{${l(o,1-o)}}\n`}const u=a+`100% {${l(e,1-e)}}\n}`,d=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${c}`;if(!x[d]){if(!f){const t=g("style");document.head.appendChild(t),f=t.sheet}x[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length)}const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${r}ms 1 both`,C+=1,d}function S(t,n){t.style.animation=(t.style.animation||"").split(", ").filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")).join(", "),n&&!--C&&a(()=>{if(C)return;let t=f.cssRules.length;for(;t--;)f.deleteRule(t);x={}})}function O(t){w=t}const M=[],E=[],k=[],L=[],I=Promise.resolve();let N,P=!1;function T(t){k.push(t)}function A(){const t=new Set;do{for(;M.length;){const t=M.shift();O(t),j(t.$$)}for(;E.length;)E.pop()();for(let n=0;n<k.length;n+=1){const e=k[n];t.has(e)||(e(),t.add(e))}k.length=0}while(M.length);for(;L.length;)L.pop()();P=!1}function j(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(T))}function R(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const B=new Set;let q;function H(){q={r:0,c:[],p:q}}function V(){q.r||r(q.c),q=q.p}function Z(t,n){t&&t.i&&(B.delete(t),t.i(n))}function z(t,n,e,o){if(t&&t.o){if(B.has(t))return;B.add(t),q.c.push(()=>{B.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const D={duration:0};function F(e,o,l,c){let f=o(e,l),p=c?0:1,m=null,$=null,g=null;function y(){g&&S(e,g)}function v(t,n){const e=t.b-p;return n*=Math.abs(e),{a:p,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function b(o){const{delay:s=0,duration:l=300,easing:c=n,tick:b=t,css:w}=f||D,C={start:i()+s,b:o};o||(C.group=q,q.r+=1),m?$=C:(w&&(y(),g=_(e,p,o,l,s,c,w)),o&&b(0,1),m=v(C,l),T(()=>R(e,o,"start")),function(t){let n;d||(d=!0,a(h)),new Promise(e=>{u.add(n=[t,e])})}(t=>{if($&&t>$.start&&(m=v($,l),$=null,R(e,m.b,"start"),w&&(y(),g=_(e,p,m.b,m.duration,0,c,f.css))),m)if(t>=m.end)b(p=m.b,1-p),R(e,m.b,"end"),$||(m.b?y():--m.group.r||r(m.group.c)),m=null;else if(t>=m.start){const n=t-m.start;p=m.a+m.d*c(n/m.duration),b(p,1-p)}return!(!m&&!$)}))}return{run(t){s(f)?(N||(N=Promise.resolve()).then(()=>{N=null}),N).then(()=>{f=f(),b(t)}):b(t)},end(){y(),m=$=null}}}function G(t,n){t.$$.dirty||(M.push(t),P||(P=!0,I.then(A)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function J(n,l,c,i,a,u){const f=w;O(n);const d=l.props||{},h=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:null};let p=!1;var m;h.ctx=c?c(n,d,(t,e,o=e)=>(h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(h.bound[t]&&h.bound[t](o),p&&G(n,t)),e)):d,h.update(),p=!0,r(h.before_update),h.fragment=i(h.ctx),l.target&&(l.hydrate?h.fragment.l((m=l.target,Array.from(m.childNodes))):h.fragment.c(),l.intro&&Z(n.$$.fragment),function(t,n,o){const{fragment:l,on_mount:c,on_destroy:i,after_update:a}=t.$$;l.m(n,o),T(()=>{const n=c.map(e).filter(s);i?i.push(...n):r(n),t.$$.on_mount=[]}),a.forEach(T)}(n,l.target,l.anchor),A()),O(f)}class K{$destroy(){var n,e;e=1,(n=this).$$.fragment&&(r(n.$$.on_destroy),n.$$.fragment.d(e),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function Q(t){const n=t-1;return n*n*n+1}function U(t,{delay:n=0,duration:e=400,easing:o=Q,x:r=0,y:s=0,opacity:l=0}){const c=getComputedStyle(t),i=+c.opacity,a="none"===c.transform?"":c.transform,u=i*(1-l);return{delay:n,duration:e,easing:o,css:(t,n)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${i-u*n}`}}function W(t,n,e){const o=Object.create(t);return o.position=n[e],o}function X(t){var n,e,o,r;return{c(){var e,o,s,l;(n=g("button")).textContent="🐭",b(n,"class","mole svelte-17w1i7w"),e=n,o="click",s=t.whackMole(t.position),e.addEventListener(o,s,l),r=(()=>e.removeEventListener(o,s,l))},m(t,e){m(t,n,e),o=!0},p(n,e){t=e},i(t){o||(T(()=>{e||(e=F(n,U,{y:80},!0)),e.run(1)}),o=!0)},o(t){e||(e=F(n,U,{y:80},!1)),e.run(0),o=!1},d(t){t&&($(n),e&&e.end()),r()}}}function Y(t){var n,e,o,r=t.moles.has(t.position),s=r&&X(t);return{c(){n=g("div"),e=y("🗻\n      "),s&&s.c(),b(n,"class","hill svelte-17w1i7w")},m(t,r){m(t,n,r),p(n,e),s&&s.m(n,null),o=!0},p(t,e){t.moles&&(r=e.moles.has(e.position)),r?s?Z(s,1):((s=X(e)).c(),Z(s,1),s.m(n,null)):s&&(H(),z(s,1,1,()=>{s=null}),V())},i(t){o||(Z(s),o=!0)},o(t){z(s),o=!1},d(t){t&&$(n),s&&s.d()}}}function tt(t){var n,e,o,r,s,l,c,i;let a=t.POSITIONS,u=[];for(let n=0;n<a.length;n+=1)u[n]=Y(W(t,a,n));const f=t=>z(u[t],1,1,()=>{u[t]=null});return{c(){n=g("div");for(let t=0;t<u.length;t+=1)u[t].c();e=v(),(o=g("a")).innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0;\n\t\t\t      right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6\n\t\t\t        120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3\n\t\t\t        125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-17w1i7w"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6\n\t\t\t        C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0\n\t\t\t        C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1\n\t\t\t        C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n\t\t\t        C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9\n\t\t\t        C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5\n\t\t\t        C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9\n\t\t\t        152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',r=v(),s=g("div"),l=y("Score: "),c=y(t.score),b(o,"href","https://github.com/Vages/svelte-whack-a-mole"),b(o,"class","github-corner svelte-17w1i7w"),b(o,"aria-label","View source on GitHub"),b(n,"class","field svelte-17w1i7w"),b(s,"class","score svelte-17w1i7w")},m(t,a){m(t,n,a);for(let t=0;t<u.length;t+=1)u[t].m(n,null);p(n,e),p(n,o),m(t,r,a),m(t,s,a),p(s,l),p(s,c),i=!0},p(t,o){if(t.moles||t.POSITIONS){let r;for(a=o.POSITIONS,r=0;r<a.length;r+=1){const s=W(o,a,r);u[r]?(u[r].p(t,s),Z(u[r],1)):(u[r]=Y(s),u[r].c(),Z(u[r],1),u[r].m(n,e))}for(H(),r=a.length;r<u.length;r+=1)f(r);V()}var r,s;i&&!t.score||(r=c,s=""+(s=o.score),r.data!==s&&(r.data=s))},i(t){if(!i){for(let t=0;t<a.length;t+=1)Z(u[t]);i=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)z(u[t]);i=!1},d(t){t&&$(n),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(u,t),t&&($(r),$(s))}}}const nt=16,et=5e3;function ot(t,n,e){let o=0;const r=[...Array(nt).keys()];let s=new Set([]);const l=t=>()=>{s.delete(t),e("moles",s)};return setInterval(()=>{const t=Math.floor(Math.random()*nt);s.add(t);const n=Math.floor(Math.random()*et);setTimeout(l(t),n),e("moles",s)},1e3),{score:o,POSITIONS:r,moles:s,whackMole:t=>()=>{s.delete(t),e("score",o+=1),e("moles",s)}}}return new class extends K{constructor(t){super(),J(this,t,ot,tt,l,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
