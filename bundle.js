var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const l="undefined"!=typeof window;let i=l?()=>window.performance.now():()=>Date.now(),a=l?t=>requestAnimationFrame(t):t;const u=new Set;let f,d=!1;function p(){u.forEach(t=>{t[0](i())||(u.delete(t),t[1]())}),(d=u.size>0)&&a(p)}function h(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function b(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}let C,x=0,w={};function _(t,n,e,o,r,s,c,l=0){const i=16.666/o;let a="{\n";for(let t=0;t<=1;t+=i){const o=n+(e-n)*s(t);a+=100*t+`%{${c(o,1-o)}}\n`}const u=a+`100% {${c(e,1-e)}}\n}`,d=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${l}`;if(!w[d]){if(!f){const t=g("style");document.head.appendChild(t),f=t.sheet}w[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length)}const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${o}ms linear ${r}ms 1 both`,x+=1,d}function M(t,n){t.style.animation=(t.style.animation||"").split(", ").filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")).join(", "),n&&!--x&&a(()=>{if(x)return;let t=f.cssRules.length;for(;t--;)f.deleteRule(t);w={}})}function S(t){C=t}const O=[],E=[],L=[],k=[],I=Promise.resolve();let T,N=!1;function P(t){L.push(t)}function A(){const t=new Set;do{for(;O.length;){const t=O.shift();S(t),j(t.$$)}for(;E.length;)E.pop()();for(let n=0;n<L.length;n+=1){const e=L[n];t.has(e)||(e(),t.add(e))}L.length=0}while(O.length);for(;k.length;)k.pop()();N=!1}function j(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(P))}function R(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const B=new Set;let H;function q(){H={r:0,c:[],p:H}}function V(){H.r||r(H.c),H=H.p}function Z(t,n){t&&t.i&&(B.delete(t),t.i(n))}function z(t,n,e,o){if(t&&t.o){if(B.has(t))return;B.add(t),H.c.push(()=>{B.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const D={duration:0};function F(e,o,c,l){let f=o(e,c),h=l?0:1,m=null,$=null,g=null;function v(){g&&M(e,g)}function y(t,n){const e=t.b-h;return n*=Math.abs(e),{a:h,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function b(o){const{delay:s=0,duration:c=300,easing:l=n,tick:b=t,css:C}=f||D,x={start:i()+s,b:o};o||(x.group=H,H.r+=1),m?$=x:(C&&(v(),g=_(e,h,o,c,s,l,C)),o&&b(0,1),m=y(x,c),P(()=>R(e,o,"start")),function(t){let n;d||(d=!0,a(p)),new Promise(e=>{u.add(n=[t,e])})}(t=>{if($&&t>$.start&&(m=y($,c),$=null,R(e,m.b,"start"),C&&(v(),g=_(e,h,m.b,m.duration,0,l,f.css))),m)if(t>=m.end)b(h=m.b,1-h),R(e,m.b,"end"),$||(m.b?v():--m.group.r||r(m.group.c)),m=null;else if(t>=m.start){const n=t-m.start;h=m.a+m.d*l(n/m.duration),b(h,1-h)}return!(!m&&!$)}))}return{run(t){s(f)?(T||(T=Promise.resolve()).then(()=>{T=null}),T).then(()=>{f=f(),b(t)}):b(t)},end(){v(),m=$=null}}}function G(t,n,o){const{fragment:c,on_mount:l,on_destroy:i,after_update:a}=t.$$;c.m(n,o),P(()=>{const n=l.map(e).filter(s);i?i.push(...n):r(n),t.$$.on_mount=[]}),a.forEach(P)}function J(t,n){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function K(t,n){t.$$.dirty||(O.push(t),N||(N=!0,I.then(A)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function Q(n,e,s,c,l,i){const a=C;S(n);const u=e.props||{},f=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:null};let d=!1;var p;f.ctx=s?s(n,u,(t,e,o=e)=>(f.ctx&&l(f.ctx[t],f.ctx[t]=o)&&(f.bound[t]&&f.bound[t](o),d&&K(n,t)),e)):u,f.update(),d=!0,r(f.before_update),f.fragment=c(f.ctx),e.target&&(e.hydrate?f.fragment.l((p=e.target,Array.from(p.childNodes))):f.fragment.c(),e.intro&&Z(n.$$.fragment),G(n,e.target,e.anchor),A()),S(a)}class U{$destroy(){J(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function W(t){const n=t-1;return n*n*n+1}function X(t,{delay:n=0,duration:e=400,easing:o=W,x:r=0,y:s=0,opacity:c=0}){const l=getComputedStyle(t),i=+l.opacity,a="none"===l.transform?"":l.transform,u=i*(1-c);return{delay:n,duration:e,easing:o,css:(t,n)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${i-u*n}`}}function Y(n){var e;return{c(){(e=g("a")).innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0;\n\t\t\t    right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6\n\t\t\t      120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3\n\t\t\t      125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-9fn96p"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6\n\t\t\t      C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0\n\t\t\t      C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1\n\t\t\t      C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n\t\t\t      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9\n\t\t\t      C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5\n\t\t\t      C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9\n\t\t\t      L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',b(e,"href","https://github.com/Vages/svelte-whack-a-mole"),b(e,"class","github-corner svelte-9fn96p"),b(e,"aria-label","View source on GitHub")},m(t,n){m(t,e,n)},p:t,i:t,o:t,d(t){t&&$(e)}}}class tt extends U{constructor(t){super(),Q(this,t,null,Y,c,[])}}function nt(t,n,e){const o=Object.create(t);return o.position=n[e],o}function et(t){var n,e,o,r;return{c(){var e,o,s,c;(n=g("button")).innerHTML='<img alt="Mus" src="mouse-face.png" class="svelte-1l0pmnh">',b(n,"class","mouse svelte-1l0pmnh"),e=n,o="click",s=t.whackMouse(t.position),e.addEventListener(o,s,c),r=(()=>e.removeEventListener(o,s,c))},m(t,e){m(t,n,e),o=!0},p(n,e){t=e},i(t){o||(P(()=>{e||(e=F(n,X,{y:80,opacity:100},!0)),e.run(1)}),o=!0)},o(t){e||(e=F(n,X,{y:80,opacity:100},!1)),e.run(0),o=!1},d(t){t&&($(n),e&&e.end()),r()}}}function ot(t){var n,e,o,r,s,c=t.mice.has(t.position),l=c&&et(t);return{c(){n=g("div"),e=g("div"),o=y(),l&&l.c(),r=y(),b(e,"class","hole svelte-1l0pmnh"),b(n,"class","cell svelte-1l0pmnh")},m(t,c){m(t,n,c),h(n,e),h(n,o),l&&l.m(n,null),h(n,r),s=!0},p(t,e){t.mice&&(c=e.mice.has(e.position)),c?l?Z(l,1):((l=et(e)).c(),Z(l,1),l.m(n,r)):l&&(q(),z(l,1,1,()=>{l=null}),V())},i(t){s||(Z(l),s=!0)},o(t){z(l),s=!1},d(t){t&&$(n),l&&l.d()}}}function rt(t){var n,e,o,r,s,c,l,i,a,u,f,d;let p=t.POSITIONS,C=[];for(let n=0;n<p.length;n+=1)C[n]=ot(nt(t,p,n));const x=t=>z(C[t],1,1,()=>{C[t]=null});var w=new tt({});return{c(){(n=g("h1")).textContent="Mos en mus",e=y(),o=g("div"),r=g("div"),s=g("div");for(let t=0;t<C.length;t+=1)C[t].c();c=y(),l=g("div"),i=g("div"),a=v("Score: "),u=v(t.score),f=y(),w.$$.fragment.c(),b(n,"class","svelte-1l0pmnh"),b(s,"class","top svelte-1l0pmnh"),b(i,"class","score svelte-1l0pmnh"),b(l,"class","front svelte-1l0pmnh"),b(r,"class","cheese svelte-1l0pmnh"),b(o,"class","the-perspective svelte-1l0pmnh")},m(t,p){m(t,n,p),m(t,e,p),m(t,o,p),h(o,r),h(r,s);for(let t=0;t<C.length;t+=1)C[t].m(s,null);h(r,c),h(r,l),h(l,i),h(i,a),h(i,u),m(t,f,p),G(w,t,p),d=!0},p(t,n){if(t.mice||t.POSITIONS){let e;for(p=n.POSITIONS,e=0;e<p.length;e+=1){const o=nt(n,p,e);C[e]?(C[e].p(t,o),Z(C[e],1)):(C[e]=ot(o),C[e].c(),Z(C[e],1),C[e].m(s,null))}for(q(),e=p.length;e<C.length;e+=1)x(e);V()}var e,o;d&&!t.score||(e=u,o=""+(o=n.score),e.data!==o&&(e.data=o))},i(t){if(!d){for(let t=0;t<p.length;t+=1)Z(C[t]);Z(w.$$.fragment,t),d=!0}},o(t){C=C.filter(Boolean);for(let t=0;t<C.length;t+=1)z(C[t]);z(w.$$.fragment,t),d=!1},d(t){t&&($(n),$(e),$(o)),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(C,t),t&&$(f),J(w,t)}}}const st=16,ct=5e3;function lt(t,n,e){let o=0;const r=[...Array(st).keys()];let s=new Set([]);const c=t=>()=>{s.delete(t),e("mice",s)};return setInterval(()=>{const t=Math.floor(Math.random()*st);s.add(t);const n=Math.floor(Math.random()*ct);setTimeout(c(t),n),e("mice",s)},1e3),{score:o,POSITIONS:r,mice:s,whackMouse:t=>()=>{s.delete(t),e("score",o+=1),e("mice",s)}}}return new class extends U{constructor(t){super(),Q(this,t,lt,rt,c,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
