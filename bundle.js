var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const a="undefined"!=typeof window;let i=a?()=>window.performance.now():()=>Date.now(),l=a?t=>requestAnimationFrame(t):t;const u=new Set;let f,d=!1;function p(){u.forEach(t=>{t[0](i())||(u.delete(t),t[1]())}),(d=u.size>0)&&l(p)}function h(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function b(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let w,C=0,x={};function _(t,e,n,o,r,s,c,a=0){const i=16.666/o;let l="{\n";for(let t=0;t<=1;t+=i){const o=e+(n-e)*s(t);l+=100*t+`%{${c(o,1-o)}}\n`}const u=l+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`;if(!x[d]){if(!f){const t=$("style");document.head.appendChild(t),f=t.sheet}x[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length)}const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${o}ms linear ${r}ms 1 both`,C+=1,d}function M(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--C&&l(()=>{if(C)return;let t=f.cssRules.length;for(;t--;)f.deleteRule(t);x={}})}function S(t){w=t}const O=[],q=[],E=[],L=[],k=Promise.resolve();let I,T=!1;function N(t){E.push(t)}function P(){const t=new Set;do{for(;O.length;){const t=O.shift();S(t),A(t.$$)}for(;q.length;)q.pop()();for(let e=0;e<E.length;e+=1){const n=E[e];t.has(n)||(n(),t.add(n))}E.length=0}while(O.length);for(;L.length;)L.pop()();T=!1}function A(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(N))}function j(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const R=new Set;let B;function H(){B={r:0,c:[],p:B}}function V(){B.r||r(B.c),B=B.p}function Z(t,e){t&&t.i&&(R.delete(t),t.i(e))}function z(t,e,n,o){if(t&&t.o){if(R.has(t))return;R.add(t),B.c.push(()=>{R.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const D={duration:0};function F(n,o,c,a){let f=o(n,c),h=a?0:1,m=null,g=null,$=null;function v(){$&&M(n,$)}function y(t,e){const n=t.b-h;return e*=Math.abs(n),{a:h,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(o){const{delay:s=0,duration:c=300,easing:a=e,tick:b=t,css:w}=f||D,C={start:i()+s,b:o};o||(C.group=B,B.r+=1),m?g=C:(w&&(v(),$=_(n,h,o,c,s,a,w)),o&&b(0,1),m=y(C,c),N(()=>j(n,o,"start")),function(t){let e;d||(d=!0,l(p)),new Promise(n=>{u.add(e=[t,n])})}(t=>{if(g&&t>g.start&&(m=y(g,c),g=null,j(n,m.b,"start"),w&&(v(),$=_(n,h,m.b,m.duration,0,a,f.css))),m)if(t>=m.end)b(h=m.b,1-h),j(n,m.b,"end"),g||(m.b?v():--m.group.r||r(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;h=m.a+m.d*a(e/m.duration),b(h,1-h)}return!(!m&&!g)}))}return{run(t){s(f)?(I||(I=Promise.resolve()).then(()=>{I=null}),I).then(()=>{f=f(),b(t)}):b(t)},end(){v(),m=g=null}}}function G(t,e,o){const{fragment:c,on_mount:a,on_destroy:i,after_update:l}=t.$$;c.m(e,o),N(()=>{const e=a.map(n).filter(s);i?i.push(...e):r(e),t.$$.on_mount=[]}),l.forEach(N)}function J(t,e){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function K(t,e){t.$$.dirty||(O.push(t),T||(T=!0,k.then(P)),t.$$.dirty=o()),t.$$.dirty[e]=!0}function Q(e,n,s,c,a,i){const l=w;S(e);const u=n.props||{},f=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:null};let d=!1;var p;f.ctx=s?s(e,u,(t,n,o=n)=>(f.ctx&&a(f.ctx[t],f.ctx[t]=o)&&(f.bound[t]&&f.bound[t](o),d&&K(e,t)),n)):u,f.update(),d=!0,r(f.before_update),f.fragment=c(f.ctx),n.target&&(n.hydrate?f.fragment.l((p=n.target,Array.from(p.childNodes))):f.fragment.c(),n.intro&&Z(e.$$.fragment),G(e,n.target,n.anchor),P()),S(l)}class U{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function W(t){const e=t-1;return e*e*e+1}function X(t,{delay:e=0,duration:n=400,easing:o=W,x:r=0,y:s=0,opacity:c=0}){const a=getComputedStyle(t),i=+a.opacity,l="none"===a.transform?"":a.transform,u=i*(1-c);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${i-u*e}`}}function Y(e){var n;return{c(){(n=$("a")).innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0;\n\t\t\t    right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6\n\t\t\t      120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3\n\t\t\t      125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-9fn96p"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6\n\t\t\t      C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0\n\t\t\t      C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1\n\t\t\t      C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n\t\t\t      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9\n\t\t\t      C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5\n\t\t\t      C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9\n\t\t\t      L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',b(n,"href","https://github.com/Vages/svelte-whack-a-mole"),b(n,"class","github-corner svelte-9fn96p"),b(n,"aria-label","View source on GitHub")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}class tt extends U{constructor(t){super(),Q(this,t,null,Y,c,[])}}function et(t,e,n){const o=Object.create(t);return o.position=e[n],o}function nt(t){var e,n,o,r;return{c(){var n,o,s,c;(e=$("button")).innerHTML='<img alt="Mus" src="mouse-face.png" class="svelte-1wg8eqa">',b(e,"class","mouse svelte-1wg8eqa"),n=e,o="click",s=t.whackMouse(t.position),n.addEventListener(o,s,c),r=(()=>n.removeEventListener(o,s,c))},m(t,n){m(t,e,n),o=!0},p(e,n){t=n},i(t){o||(N(()=>{n||(n=F(e,X,{y:80,opacity:100},!0)),n.run(1)}),o=!0)},o(t){n||(n=F(e,X,{y:80,opacity:100},!1)),n.run(0),o=!1},d(t){t&&(g(e),n&&n.end()),r()}}}function ot(t){var e,n,o,r,s,c=t.mice.has(t.position),a=c&&nt(t);return{c(){e=$("div"),n=$("div"),o=y(),a&&a.c(),r=y(),b(n,"class","hole svelte-1wg8eqa"),b(e,"class","cell svelte-1wg8eqa")},m(t,c){m(t,e,c),h(e,n),h(e,o),a&&a.m(e,null),h(e,r),s=!0},p(t,n){t.mice&&(c=n.mice.has(n.position)),c?a?Z(a,1):((a=nt(n)).c(),Z(a,1),a.m(e,r)):a&&(H(),z(a,1,1,()=>{a=null}),V())},i(t){s||(Z(a),s=!0)},o(t){z(a),s=!1},d(t){t&&g(e),a&&a.d()}}}function rt(t){var e,n,o,r,s,c,a,i,l,u,f,d;let p=t.POSITIONS,w=[];for(let e=0;e<p.length;e+=1)w[e]=ot(et(t,p,e));const C=t=>z(w[t],1,1,()=>{w[t]=null});var x=new tt({});return{c(){(e=$("h1")).textContent="Mos ei mus!",n=y(),o=$("div"),r=$("div"),s=$("div");for(let t=0;t<w.length;t+=1)w[t].c();c=y(),a=$("div"),i=$("div"),l=v("Score: "),u=v(t.score),f=y(),x.$$.fragment.c(),b(e,"class","svelte-1wg8eqa"),b(s,"class","top svelte-1wg8eqa"),b(i,"class","score svelte-1wg8eqa"),b(a,"class","front svelte-1wg8eqa"),b(r,"class","cheese svelte-1wg8eqa"),b(o,"class","the-perspective svelte-1wg8eqa")},m(t,p){m(t,e,p),m(t,n,p),m(t,o,p),h(o,r),h(r,s);for(let t=0;t<w.length;t+=1)w[t].m(s,null);h(r,c),h(r,a),h(a,i),h(i,l),h(i,u),m(t,f,p),G(x,t,p),d=!0},p(t,e){if(t.mice||t.POSITIONS){let n;for(p=e.POSITIONS,n=0;n<p.length;n+=1){const o=et(e,p,n);w[n]?(w[n].p(t,o),Z(w[n],1)):(w[n]=ot(o),w[n].c(),Z(w[n],1),w[n].m(s,null))}for(H(),n=p.length;n<w.length;n+=1)C(n);V()}var n,o;d&&!t.score||(n=u,o=""+(o=e.score),n.data!==o&&(n.data=o))},i(t){if(!d){for(let t=0;t<p.length;t+=1)Z(w[t]);Z(x.$$.fragment,t),d=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)z(w[t]);z(x.$$.fragment,t),d=!1},d(t){t&&(g(e),g(n),g(o)),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(w,t),t&&g(f),J(x,t)}}}const st=16,ct=5e3;function at(t,e,n){let o=0;const r=[...Array(st).keys()];let s=new Set([]);const c=t=>()=>{s.delete(t),n("mice",s)};return setInterval(()=>{const t=Math.floor(Math.random()*st);s.add(t);const e=Math.floor(Math.random()*ct);setTimeout(c(t),e),n("mice",s)},1e3),{score:o,POSITIONS:r,mice:s,whackMouse:t=>()=>{s.delete(t),n("score",o+=1),n("mice",s)}}}return new class extends U{constructor(t){super(),Q(this,t,at,rt,c,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
